jQuery(document).ready((function(e){e(".glitch-img").mgGlitch({destroy:!1,glitch:!0,scale:!0,blend:!0,blendModeType:"hue",glitch1TimeMin:200,glitch1TimeMax:400,glitch2TimeMin:10,glitch2TimeMax:100});var a=!1,t=new ScrollMagic.Controller,o=new ScrollMagic.Controller,s=new ScrollMagic.Controller,r=e(".svg2"),l=r.find("#txt1"),n=r.find("#txt2"),i=r.find("#txt3"),u=r.find("#txt4"),c=r.find("#pill1"),p=r.find("#pill2"),d=r.find("#pill3"),h=r.find("#pill4"),g=r.find("#bad1"),f=r.find("#bad2"),w=r.find("#bad3"),m=r.find("#target"),O=r.find("#shield"),v=r.find("#exit"),A=r.find("#cells");function y(){return clearSvg2Tl=new TimelineMax,clearSvg2Tl.set([l,n,i,u],{autoAlpha:0}).set(c,{scale:.8,autoAlpha:0,x:"-350px",y:"-350px",rotation:0,transformOrigin:"center center"}).set(p,{scale:.8,autoAlpha:0,x:"-350px",y:"-350px",rotation:0,transformOrigin:"center center"}).set(d,{scale:.8,autoAlpha:0,x:"-350px",y:"-350px",rotation:0,transformOrigin:"center center"}).set(h,{scale:.8,autoAlpha:0,x:"-350px",y:"-350px",rotation:0,transformOrigin:"center center"}).set(g,{autoAlpha:1,scale:0,transformOrigin:"center center"}).set(f,{autoAlpha:1,scale:0,transformOrigin:"center center"}).set(w,{autoAlpha:1,scale:0,transformOrigin:"center center"}).set(m,{autoAlpha:0}).set(O,{autoAlpha:0,x:"-117",y:"-66"}).set(v,{autoAlpha:0,transformOrigin:"70% 70%",scale:0}).set(A,{autoAlpha:.35,xPercent:"-9",yPercent:"-5"}),clearSvg2Tl}function C(){a=!0}tlSvg2Case1=new TimelineMax({paused:!0,repeat:0}),tlSvg2Case2=new TimelineMax({paused:!0,repeat:0}),tlSvg2Case3=new TimelineMax({paused:!0,repeat:0}),tlSvg2Case4=new TimelineMax({paused:!0,repeat:0}),tlFadeRest=new TimelineMax({paused:!0,repeat:0}),y(),tlSvg2Case1.to(l,.35,{autoAlpha:1,ease:Power4.easeOut,onComplete:C}).to(c,.5,{delay:.5,autoAlpha:1,ease:Power4.easeOut}).to(c,1,{x:"0",y:"0",ease:Power4.easeOut}).staggerTo([g,f,w],.5,{scale:1,ease:Power4.easeOut},.2).to(c,.1,{delay:.5,autoAlpha:.5,ease:"power4.inOut"}).to(c,.1,{autoAlpha:1,ease:"power4.inOut"}).to(c,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(c,.1,{autoAlpha:1,ease:"power4.inOut"}).to(c,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(c,.1,{autoAlpha:1,ease:"power4.inOut"}).to(c,.1,{autoAlpha:0,ease:"power4.inOut"}).to(c,.1,{autoAlpha:1,ease:"power4.inOut"}).to(c,.5,{autoAlpha:0,ease:"power4.inOut"}),tlSvg2Case2.to(n,.35,{autoAlpha:1,ease:Power4.easeOut,onComplete:C}).to(p,.5,{delay:.5,autoAlpha:1,ease:Power4.easeOut}).to(p,1,{x:"0",y:"0",ease:Power4.easeOut}).to(v,.5,{delay:.5,autoAlpha:1,scale:1,ease:Bounce.easeOut}).to(p,1,{rotate:1,xPercent:"-1",rotation:90,ease:Power4.easeOut}).to(p,1,{x:"-250",y:"-245",ease:Power4.easeOut}).to(p,1,{x:"-800",y:"-800",rotation:4970,ease:Power4.easeOut}),tlSvg2Case3.to(i,.35,{autoAlpha:1,ease:Power4.easeOut,onComplete:C}).to(d,1,{delay:.5,autoAlpha:1,ease:Power4.easeOut}).to(O,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(O,.1,{autoAlpha:0,ease:"power4.inOut"}).to(O,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(O,.1,{autoAlpha:0,ease:"power4.inOut"}).to(O,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(O,.1,{autoAlpha:0,ease:"power4.inOut"}).to(O,.3,{autoAlpha:1,ease:"power4.inOut"}).to(d,.35,{x:"-200",y:"-200",ease:"power4.in"}).to(d,2,{x:"-800",y:"-200",rotation:900,ease:Power4.easeOut}),tlSvg2Case4.to(u,.35,{autoAlpha:1,ease:Power4.easeOut,onComplete:C}).to(h,1,{delay:.5,autoAlpha:1,ease:Power4.easeOut}).to(m,1,{autoAlpha:1,ease:Power4.easeOut}).to(m,.25,{x:"+270",y:"-180",ease:Power4.easeOut}).to(m,.25,{x:"+50",y:"-180",ease:Power4.easeOut}).to(m,.25,{x:"+110",y:"-50",ease:Power4.easeOut}).to(m,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(m,.1,{autoAlpha:1,ease:"power4.inOut"}).to(m,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(m,.1,{autoAlpha:1,ease:"power4.inOut"}).to(m,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(m,.1,{autoAlpha:1,ease:"power4.inOut"}).to(m,1,{autoAlpha:0,ease:"power4.inOut"}).to(h,1,{x:"0",y:"0",ease:Power4.easeOut}).to(h,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(h,.1,{autoAlpha:1,ease:"power4.inOut"}).to(h,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(h,.1,{autoAlpha:1,ease:"power4.inOut"}).to(h,.1,{autoAlpha:.5,ease:"power4.inOut"}).to(h,.1,{autoAlpha:1,ease:"power4.inOut"}).to(h,.1,{autoAlpha:0,ease:"power4.inOut"}).to(h,.1,{autoAlpha:1,ease:"power4.inOut"}).to(h,.5,{autoAlpha:0,ease:"power4.inOut"}),e(".anim4").click((function(){e("#svg2 .menu li").removeClass("is-selected"),e(this).addClass("is-selected"),tlSvg2Case1.pause(),tlSvg2Case2.pause(),tlSvg2Case3.pause(),tlSvg2Case4.pause(),y(),setTimeout((function(){tlSvg2Case4.restart()}),50)})),e(".anim3").click((function(){e("#svg2 .menu li").removeClass("is-selected"),e(this).addClass("is-selected"),tlSvg2Case1.pause(),tlSvg2Case2.pause(),tlSvg2Case3.pause(),tlSvg2Case4.pause(),y(),setTimeout((function(){tlSvg2Case3.restart()}),50)})),e(".anim2").click((function(){e("#svg2 .menu li").removeClass("is-selected"),e(this).addClass("is-selected"),tlSvg2Case1.pause(),tlSvg2Case2.pause(),tlSvg2Case3.pause(),tlSvg2Case4.pause(),y(),setTimeout((function(){tlSvg2Case2.restart()}),50)})),e(".anim1").click((function(){e("#svg2 .menu li").removeClass("is-selected"),e(this).addClass("is-selected"),tlSvg2Case1.pause(),tlSvg2Case2.pause(),tlSvg2Case3.pause(),tlSvg2Case4.pause(),y(),setTimeout((function(){tlSvg2Case1.restart()}),50)})),new ScrollMagic.Scene({triggerElement:"#svg2 .menu",triggerHook:.8,duration:1}).offset(0).on("enter",(function(){!1===a&&(C(),tlSvg2Case1.play())})).addTo(t);var x=e(".svg3"),S=x.find("#price1"),b=x.find("#price2"),k=x.find("#price3"),P=x.find("#truck"),T=P.find("#truck-pill"),M=P.find("#truck-manifier"),B=x.find("#plane"),I=B.find("#plane-pill"),z=B.find("#plane-manifier"),D=(x.find("#clouds"),x.find("#pharma")),Q=x.find("#stock");$india=x.find("#india"),tlSvg3=new TimelineMax({paused:!0,repeat:0}),clearSvg3Tl=new TimelineMax,clearSvg3Tl.set([S,b,k],{autoAlpha:0}).set(B,{autoAlpha:0,x:"-20"}).set(z,{autoAlpha:0,x:"+20"}).set(I,{transformOrigin:"center center",scale:0}).set(M,{autoAlpha:0,y:"+20"}).set(T,{transformOrigin:"center center",scale:0}).set(P,{autoAlpha:0,x:"-20"}).set([$india,Q,D],{autoAlpha:0}),clearSvg3Tl,tlSvg3.to($india,.5,{autoAlpha:1,ease:Power4.easeOut}).staggerTo([Q,D],.5,{autoAlpha:.4,ease:Power4.easeOut},.2,"-=0.3").to(S,.5,{delay:.5,autoAlpha:1,ease:Power4.easeOut}).to(B,.5,{delay:.5,autoAlpha:1,x:"0",ease:Power4.easeOut}).to(z,.5,{delay:.5,autoAlpha:1,x:"0",ease:Power4.easeOut}).to(I,.5,{scale:1,ease:Bounce.easeOut}).to(B,2,{delay:.5,x:"+1200",ease:"Power1.out"}).to(Q,.5,{autoAlpha:1,ease:Power4.easeOut},"-=2").to(I,.5,{delay:.5,autoAlpha:0,y:"+100",ease:Power1.Out}).to(b,.5,{autoAlpha:1,ease:Power4.easeOut}).to(B,.5,{autoAlpha:0,ease:Power4.easeOut}).to(P,.5,{delay:.5,autoAlpha:1,ease:Power4.easeOut}).to(M,.5,{delay:.5,autoAlpha:1,y:"0",ease:Power4.easeOut}).to(T,.5,{scale:1,ease:Bounce.easeOut}).to(P,2,{delay:.5,x:"+900",ease:"Power1.out"}).to(D,.5,{autoAlpha:1,ease:Power4.easeOut},"-=2").to(T,.5,{delay:.5,autoAlpha:0,x:"-200",y:"+100",ease:Power1.Out}).to(k,.5,{autoAlpha:1,ease:Power4.easeOut}).to(P,.5,{autoAlpha:0,ease:Power4.easeOut}),new ScrollMagic.Scene({triggerElement:"#svg3",triggerHook:.4,duration:1}).offset(0).on("enter",(function(){tlSvg3.play()})).addTo(s);var E=e(".svg1"),q=(E.find("#bad-step-1"),E.find("#bad-step-2")),V=E.find("#bad-step-3"),H=E.find("#bad-step-4"),R=E.find("#pnsp-title"),U=E.find("#pnsp-numbers-2016"),Y=E.find("#pnsp-numbers-2018"),$=E.find("#pnsp-diff"),L=E.find("#vre-title"),W=E.find("#vre-numbers-2016"),X=E.find("#vre-numbers-2018"),j=E.find("#vre-diff"),F=E.find("#fqr-title"),G=E.find("#fqr-numbers-2016"),N=E.find("#fqr-numbers-2018"),_=E.find("#fqr-diff"),J=E.find("#mrsa-title"),K=E.find("#mrsa-numbers-2016"),Z=E.find("#mrsa-numbers-2018"),ee=E.find("#mrsa-diff"),ae=E.find("#escr-title"),te=E.find("#escr-numbers-2016"),oe=E.find("#escr-numbers-2018"),se=E.find("#escr-diff");tlSvg1=new TimelineMax({paused:!0,repeat:0}),clearSvg1Tl=new TimelineMax,clearSvg1Tl.set([q,V,H,L,W,X,j,R,U,Y,$,F,G,N,_,J,K,Z,ee,ae,te,oe,se],{autoAlpha:0,transformOrigin:"center center"}).set([H,q,V],{transformOrigin:"center center",scale:.9}).set([X,oe,Z,N,Y],{transformOrigin:"center center",scale:.9}),clearSvg1Tl,new ScrollMagic.Scene({triggerElement:"#svg1",triggerHook:.3,duration:1}).offset(0).on("enter",(function(){tlSvg1.play()})).addTo(o),tlSvg1.staggerTo([F,G,J,K,ae,te,L,W,R,U],.5,{autoAlpha:1,ease:Power4.easeOut},.05).staggerTo([q,V,H],1,{delay:1,autoAlpha:1,scale:1,ease:Power4.easeOut},1).staggerTo([G,K,te,W,U],1,{delay:.5,autoAlpha:0,scale:.9,ease:Power4.easeOut},.05).staggerTo([N,Z,oe,X,Y],1,{delay:.5,autoAlpha:1,scale:1,ease:Power4.easeOut},.05).to([j,se,ee,_,$],1,{delay:1,autoAlpha:1,ease:Power4.easeOut}),e(".video-360-poster").click((function(a){players.video360.playVideo(),e(this).hide()})),window.sr=ScrollReveal(),sr.reveal(".cbp_tmlabel"),e(".owl").owlCarousel({items:1,itemsDesktop:[1200,1],itemsTablet:[992,1],itemsMobile:[500,1],lazyLoad:!0,navigation:!0}),e("img.lazy").lazyload({effect:"fadeIn"}),e(window).width()>1200&&e(".zoom").click((function(){zoom.to({element:e(this)[0]})})),e(".scroll-indicator").click((function(){e("html, body").animate({scrollTop:e("section:eq(0)").offset().top-80},1e3)}));var re=e(".numbers"),le=!1;e(window).scroll((function(){re.is(":in-viewport")&&0==le&&(e(".numbers h1 i").counterUp({delay:10,time:3e3}),le=!0)})),Chart.defaults.groupableBar=Chart.helpers.clone(Chart.defaults.bar);Chart.helpers;Chart.controllers.groupableBar=Chart.controllers.bar.extend({calculateBarX:function(e,a){var t=this.getMeta().stackIndex;return Chart.controllers.bar.prototype.calculateBarX.apply(this,[e,t])},hideOtherStacks:function(e){var a=this.getMeta().stackIndex;this.hiddens=[];for(var t=0;t<e;t++){var o=this.chart.getDatasetMeta(t);o.stackIndex!==a&&(this.hiddens.push(o.hidden),o.hidden=!0)}},unhideOtherStacks:function(e){for(var a=this.getMeta().stackIndex,t=0;t<e;t++){var o=this.chart.getDatasetMeta(t);o.stackIndex!==a&&(o.hidden=this.hiddens.unshift())}},calculateBarY:function(e,a){this.hideOtherStacks(a);var t=Chart.controllers.bar.prototype.calculateBarY.apply(this,[e,a]);return this.unhideOtherStacks(a),t},calculateBarBase:function(e,a){this.hideOtherStacks(e);var t=Chart.controllers.bar.prototype.calculateBarBase.apply(this,[e,a]);return this.unhideOtherStacks(e),t},getBarCount:function(){var e=[];return Chart.helpers.each(this.chart.data.datasets,(function(a,t){var o=this.chart.getDatasetMeta(t);if(o.bar&&this.chart.isDatasetVisible(t)){var s=e.indexOf(a.stack);-1===s&&(s=e.length,e.push(a.stack)),o.stackIndex=s}}),this),this.getMeta().stacks=e,e.length}});var ne={labels:["2011","2012","2013","2014","2015"],datasets:[{label:"AQ (Analog Quartz)",backgroundColor:"rgba(99,132,255,0.2)",data:[38.2,39.7,39.6,40.4,40.1],stack:1},{label:"DQ (Digital Quartz)",backgroundColor:"rgba(99,255,132,0.2)",data:[17,17.6,17.9,17.7,17.6],stack:1},{label:"ME (Mechanical Watch)",backgroundColor:"rgba(255,99,132,0.2)",data:[2.7,2.6,2.3,2.2,1.8],stack:1}]},ie={labels:["2011","2012","2013","2014","2015"],datasets:[{label:"AQ (Analog Quartz)",backgroundColor:"rgba(99,132,255,0.2)",data:[75.2,77.9,93.6,107.1,122.4],stack:1},{label:"DQ (Digital Quartz)",backgroundColor:"rgba(99,255,132,0.2)",data:[14.3,15.6,18.2,20.1,21],stack:1},{label:"ME (Mechanical Watch)",backgroundColor:"rgba(255,99,132,0.2)",data:[11.5,12.3,13,14.1,13.9],stack:1}]},ue=!1;e(window).scroll((function(){e(".gallery .trigger").is(":in-viewport")&&0==ue&&(setTimeout((function(){setTimeout((function(){e("canvas").addClass("is-visible")}),100);var a=document.getElementById("myChart").getContext("2d");new Chart(a,{type:"groupableBar",data:ne,options:{title:{display:!0,text:"UNITÉS (en millions de pièces)"},scales:{yAxes:[{ticks:{max:70},stacked:!0}]}}});var t=document.getElementById("myChart2").getContext("2d");new Chart(t,{type:"groupableBar",data:ie,options:{title:{display:!0,text:"VALEUR (en milliard de Yens)"},scales:{yAxes:[{ticks:{max:160},stacked:!0}]}}})}),500),ue=!0)})),e("#makingof-anchor").click((function(){e("#makingof-scrolltop").show()})),e("#makingof-scrolltop").click((function(){e(this).hide()}));(new Date).getTime();var ce=0,pe=e("#scroll-container");e(window).scroll((function(e){ce++,pe.html("Vous avez fait défiler cette page "+ce+" fois depuis son ouverture.<br>(Il y a de cela) "+Math.round(e.timeStamp/1e3)+" secondes.")}))}));