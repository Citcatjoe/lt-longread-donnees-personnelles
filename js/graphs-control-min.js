jQuery(document).ready((function(t){Chart.defaults.groupableBar=Chart.helpers.clone(Chart.defaults.bar);Chart.helpers;Chart.controllers.groupableBar=Chart.controllers.bar.extend({calculateBarX:function(t,a){var e=this.getMeta().stackIndex;return Chart.controllers.bar.prototype.calculateBarX.apply(this,[t,e])},hideOtherStacks:function(t){var a=this.getMeta().stackIndex;this.hiddens=[];for(var e=0;e<t;e++){var r=this.chart.getDatasetMeta(e);r.stackIndex!==a&&(this.hiddens.push(r.hidden),r.hidden=!0)}},unhideOtherStacks:function(t){for(var a=this.getMeta().stackIndex,e=0;e<t;e++){var r=this.chart.getDatasetMeta(e);r.stackIndex!==a&&(r.hidden=this.hiddens.unshift())}},calculateBarY:function(t,a){this.hideOtherStacks(a);var e=Chart.controllers.bar.prototype.calculateBarY.apply(this,[t,a]);return this.unhideOtherStacks(a),e},calculateBarBase:function(t,a){this.hideOtherStacks(t);var e=Chart.controllers.bar.prototype.calculateBarBase.apply(this,[t,a]);return this.unhideOtherStacks(t),e},getBarCount:function(){var t=[];return Chart.helpers.each(this.chart.data.datasets,(function(a,e){var r=this.chart.getDatasetMeta(e);if(r.bar&&this.chart.isDatasetVisible(e)){var s=t.indexOf(a.stack);-1===s&&(s=t.length,t.push(a.stack)),r.stackIndex=s}}),this),this.getMeta().stacks=t,t.length}});var a={labels:["2011","2012","2013","2014","2015"],datasets:[{label:"AQ (Analog Quartz)",backgroundColor:"rgba(99,132,255,0.2)",data:[38.2,39.7,39.6,40.4,40.1],stack:1},{label:"DQ (Digital Quartz)",backgroundColor:"rgba(99,255,132,0.2)",data:[17,17.6,17.9,17.7,17.6],stack:1},{label:"ME (Mechanical Watch)",backgroundColor:"rgba(255,99,132,0.2)",data:[2.7,2.6,2.3,2.2,1.8],stack:1}]},e={labels:["2011","2012","2013","2014","2015"],datasets:[{label:"AQ (Analog Quartz)",backgroundColor:"rgba(99,132,255,0.2)",data:[75.2,77.9,93.6,107.1,122.4],stack:1},{label:"DQ (Digital Quartz)",backgroundColor:"rgba(99,255,132,0.2)",data:[14.3,15.6,18.2,20.1,21],stack:1},{label:"ME (Mechanical Watch)",backgroundColor:"rgba(255,99,132,0.2)",data:[11.5,12.3,13,14.1,13.9],stack:1}]},r=!1;t(window).scroll((function(){t(".graph .trigger").is(":in-viewport")&&0==r&&(setTimeout((function(){setTimeout((function(){t(".graph-wrapper").addClass("is-visible")}),100);var r=document.getElementById("myChart").getContext("2d");new Chart(r,{type:"groupableBar",data:a,options:{title:{display:!0,text:"UNITÉS (en millions de pièces)"},scales:{yAxes:[{ticks:{max:70},stacked:!0}]}}});var s=document.getElementById("myChart2").getContext("2d");new Chart(s,{type:"groupableBar",data:e,options:{title:{display:!0,text:"VALEUR (en milliard de Yens)"},scales:{yAxes:[{ticks:{max:160},stacked:!0}]}}})}),500),r=!0)}))}));