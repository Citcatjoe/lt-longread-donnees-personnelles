jQuery(document).ready((function(e){var n,t,i,o,a=[],r=0,d=0,s=window.innerWidth/2,c=window.innerHeight/2;function w(){s=window.innerWidth/2,c=window.innerHeight/2,n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function h(e){r=e.clientX-s,d=e.clientY-c}function l(e){1===e.touches.length&&(e.preventDefault(),r=e.touches[0].pageX-s,d=e.touches[0].pageY-c)}function p(e){1===e.touches.length&&(e.preventDefault(),r=e.touches[0].pageX-s,d=e.touches[0].pageY-c)}!function(){(n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,2e3)).position.z=1e3,(t=new THREE.Scene).fog=new THREE.FogExp2(0,8e-4);for(var r=new THREE.BufferGeometry,d=[],s=new THREE.TextureLoader,c=s.load("img/sprites/snowflake1.png"),u=s.load("img/sprites/snowflake2.png"),g=s.load("img/sprites/snowflake3.png"),E=s.load("img/sprites/snowflake4.png"),m=s.load("img/sprites/snowflake5.png"),f=0;f<500;f++){var v=2e3*Math.random()-1e3,H=2e3*Math.random()-1e3,R=2e3*Math.random()-1e3;d.push(v,H,R)}r.setAttribute("position",new THREE.Float32BufferAttribute(d,3)),o=[[[.5,.2,.25],u,40],[[.5,.1,.25],g,40],[[.5,.05,.25],c,40],[[.5,0,.25],m,40],[[.5,0,.25],E,30]];for(f=0;f<o.length;f++){var T=o[f][0],y=o[f][1],x=o[f][2];a[f]=new THREE.PointsMaterial({size:x,map:y,blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0}),a[f].color.setHSL(T[0],T[1],T[2]);var L=new THREE.Points(r,a[f]);L.rotation.x=6*Math.random(),L.rotation.y=6*Math.random(),L.rotation.z=6*Math.random(),t.add(L)}(i=new THREE.WebGLRenderer).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),document.getElementById("canvasloader-container").appendChild(i.domElement),document.addEventListener("mousemove",h,!1),document.addEventListener("touchstart",l,!1),document.addEventListener("touchmove",p,!1),window.addEventListener("resize",w,!1),e("#canvasloader-container canvas").fadeIn(),e("#canvasloader-container canvas").css("opacity",1)}(),function e(){requestAnimationFrame(e),function(){var e=5e-5*Date.now();n.position.x+=.1*(r-n.position.x),n.position.y+=.1*(-d-n.position.y),n.lookAt(t.position);for(var s=0;s<t.children.length;s++){var c=t.children[s];c instanceof THREE.Points&&(c.rotation.y=.5*e*(s<4?s+1:-(s+1)))}for(s=0;s<a.length;s++){var w=o[s][0],h=360*(w[0]+e)%360/360;a[s].color.setHSL(h,w[1],w[2])}i.render(t,n)}()}()}));